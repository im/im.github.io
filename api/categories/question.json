{"name":"question","slug":"question","count":1,"postlist":[{"title":" iframe 报错 Refused to display 'URL' in a frame because it set 'X-Frame-Options' to 'DENY'","slug":"question/d6d18596d2","date":"2021-06-03T00:00:00.000Z","updated":"2021-06-17T11:25:09.047Z","comments":true,"path":"api/articles/question/d6d18596d2.json","excerpt":"","keywords":null,"cover":null,"content":"<p><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/X-Frame-Options\">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/X-Frame-Options</a></p>\n<p>X-Frame-Options 有三个值:</p>\n<ul>\n<li><p>DENY<br>表示该页面不允许在 frame 中展示，即便是在相同域名的页面中嵌套也不允许。</p>\n</li>\n<li><p>SAMEORIGIN<br>表示该页面可以在相同域名页面的 frame 中展示。</p>\n</li>\n<li><p>ALLOW-FROM uri<br>表示该页面可以在指定来源的 frame 中展示。</p>\n</li>\n</ul>\n<p>换一句话说，如果设置为 DENY，不光在别人的网站 frame 嵌入时会无法加载，在同域名页面中同样会无法加载。另一方面，如果设置为 SAMEORIGIN，那么页面就可以在同域名页面的 frame 中嵌套。</p>\n<h2 id=\"express-配置\"><a href=\"#express-配置\" class=\"headerlink\" title=\"express 配置\"></a>express 配置</h2><pre><code class=\"hljs js\"><span class=\"hljs-keyword\">const</span> helmet = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;helmet&#x27;</span>);\n<span class=\"hljs-keyword\">const</span> app = express();\napp.use(helmet.frameguard(&#123; <span class=\"hljs-attr\">action</span>: <span class=\"hljs-string\">&#x27;SAMEORIGIN&#x27;</span> &#125;))</code></pre>\n\n<p>或者使用：</p>\n<pre><code class=\"hljs js\"><span class=\"hljs-keyword\">const</span> frameguard = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;frameguard&#x27;</span>)\napp.use(frameguard(&#123; <span class=\"hljs-attr\">action</span>: <span class=\"hljs-string\">&#x27;SAMEORIGIN&#x27;</span> &#125;))\n</code></pre>\n\n","text":"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/X-Frame-OptionsX-Frame-Options 有三个值:DENY<br>表示该页面不允许在 frame 中展示，即便是在相同域名的页面中嵌套也不允许。SAMEORI","link":"","raw":null,"photos":[],"categories":[{"name":"question","slug":"question","count":1,"path":"api/categories/question.json"}],"tags":[{"name":"question","slug":"question","count":2,"path":"api/tags/question.json"}]}]}
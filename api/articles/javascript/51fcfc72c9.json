{"sort":43,"title":" nodejs 搭建本地服务器 展示文件夹","slug":"javascript/51fcfc72c9","date":"2021-04-03T00:00:00.000Z","updated":"2021-06-17T11:25:09.047Z","comments":true,"path":"api/articles/javascript/51fcfc72c9.json","photos":[],"link":"","excerpt":null,"covers":null,"content":"<pre><code class=\"hljs js\"><span class=\"hljs-keyword\">const</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;express&#x27;</span>)\n<span class=\"hljs-keyword\">const</span> http = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;http&#x27;</span>)\n<span class=\"hljs-keyword\">const</span> app = express()\n<span class=\"hljs-keyword\">const</span> port = <span class=\"hljs-number\">80</span>\n<span class=\"hljs-keyword\">var</span> serveIndex = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;serve-index&#x27;</span>)\n\napp.use(express.static(<span class=\"hljs-string\">&#x27;../&#x27;</span>))\napp.use(serveIndex(<span class=\"hljs-string\">&#x27;../&#x27;</span>))\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getIPAdress</span>(<span class=\"hljs-params\"></span>) </span>&#123;\n    <span class=\"hljs-keyword\">let</span> interfaces = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;os&#x27;</span>).networkInterfaces()\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> devName <span class=\"hljs-keyword\">in</span> interfaces) &#123;\n        <span class=\"hljs-keyword\">var</span> iface = interfaces[devName]\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; iface.length; i++) &#123;\n            <span class=\"hljs-keyword\">let</span> alias = iface[i]\n            <span class=\"hljs-keyword\">if</span> (\n                alias.family === <span class=\"hljs-string\">&#x27;IPv4&#x27;</span> &amp;&amp;\n                alias.address !== <span class=\"hljs-string\">&#x27;127.0.0.1&#x27;</span> &amp;&amp;\n                !alias.internal\n            ) &#123;\n                <span class=\"hljs-comment\">// console.log(alias.address);</span>\n\n                <span class=\"hljs-keyword\">return</span> alias.address\n            &#125;\n        &#125;\n    &#125;\n&#125;\n\n<span class=\"hljs-keyword\">var</span> server = http.createServer(app)\n\nserver.listen(port, <span class=\"hljs-function\">() =&gt;</span> &#123;\n    <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">`Example app listening at http://<span class=\"hljs-subst\">$&#123;getIPAdress()&#125;</span>:<span class=\"hljs-subst\">$&#123;port&#125;</span>`</span>)\n&#125;)</code></pre>\n\n","prev":{"title":" JavaScript里的循环方法：forEach，for-in，for-of","slug":"javascript/cbbeb436fb"},"next":{"title":" 字面量类型","slug":"typescript/8f287486e1"},"categories":[{"name":"javascript","slug":"javascript","count":21,"path":"api/categories/javascript.json"}],"tags":[{"name":"javascript","slug":"javascript","count":25,"path":"api/tags/javascript.json"},{"name":"nodejs","slug":"nodejs","count":2,"path":"api/tags/nodejs.json"}]}
{"sort":3,"title":" git 常用命令","slug":"git/09dfcc188e","date":"2019-02-03T00:00:00.000Z","updated":"2021-06-17T11:25:09.047Z","comments":true,"path":"api/articles/git/09dfcc188e.json","photos":[],"link":"","excerpt":"恢复修改过的文件git checkout file_name获取远程分支git checkout --track origin/branch_name","covers":null,"content":"<h3 id=\"恢复修改过的文件\"><a href=\"#恢复修改过的文件\" class=\"headerlink\" title=\"恢复修改过的文件\"></a>恢复修改过的文件</h3><pre><code class=\"hljs bash\">git checkout file_name</code></pre>\n\n<h3 id=\"获取远程分支\"><a href=\"#获取远程分支\" class=\"headerlink\" title=\"获取远程分支\"></a>获取远程分支</h3><pre><code class=\"hljs bash\">git checkout --track origin/branch_name</code></pre>\n\n<a id=\"more\"></a>\n\n<h3 id=\"本地分支关联远程分支\"><a href=\"#本地分支关联远程分支\" class=\"headerlink\" title=\"本地分支关联远程分支\"></a>本地分支关联远程分支</h3><pre><code class=\"hljs bash\">git branch --set-upstream-to=origin/[branch_name] [branch_name]</code></pre>\n\n<h3 id=\"合并某一次提交\"><a href=\"#合并某一次提交\" class=\"headerlink\" title=\"合并某一次提交\"></a>合并某一次提交</h3><pre><code class=\"hljs bash\">git cherry-pick commit_id</code></pre>\n\n<h3 id=\"查看最近3条更新日志，并且简单显示修改的文件\"><a href=\"#查看最近3条更新日志，并且简单显示修改的文件\" class=\"headerlink\" title=\"查看最近3条更新日志，并且简单显示修改的文件\"></a>查看最近3条更新日志，并且简单显示修改的文件</h3><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 查看最近3条更新日志，并且简单显示修改的文件 </span>\ngit <span class=\"hljs-built_in\">log</span> -3 -—<span class=\"hljs-built_in\">stat</span></code></pre>\n\n<h3 id=\"命令行看提交记录图形\"><a href=\"#命令行看提交记录图形\" class=\"headerlink\" title=\"命令行看提交记录图形\"></a>命令行看提交记录图形</h3><pre><code class=\"hljs bash\">git <span class=\"hljs-built_in\">log</span> --oneline --graph</code></pre>\n\n<h3 id=\"查看指定提交的内容\"><a href=\"#查看指定提交的内容\" class=\"headerlink\" title=\"查看指定提交的内容\"></a>查看指定提交的内容</h3><pre><code class=\"hljs bash\">git show [commit_id] -—<span class=\"hljs-built_in\">stat</span></code></pre>\n\n<h3 id=\"恢复修改过的文件-1\"><a href=\"#恢复修改过的文件-1\" class=\"headerlink\" title=\"恢复修改过的文件\"></a>恢复修改过的文件</h3><pre><code class=\"hljs bash\">git chekout [file_name]</code></pre>\n\n<h3 id=\"本地分支推送到远程分支\"><a href=\"#本地分支推送到远程分支\" class=\"headerlink\" title=\"本地分支推送到远程分支\"></a>本地分支推送到远程分支</h3><pre><code class=\"hljs bash\">git push -—set-upstream origin [branch_nam]</code></pre>\n\n<h3 id=\"将远程分支拉到本地\"><a href=\"#将远程分支拉到本地\" class=\"headerlink\" title=\"将远程分支拉到本地\"></a>将远程分支拉到本地</h3><pre><code class=\"hljs bash\">git checkout —track origin/branch_name</code></pre>\n\n<h3 id=\"合并某一次提交到指定分支\"><a href=\"#合并某一次提交到指定分支\" class=\"headerlink\" title=\"合并某一次提交到指定分支\"></a>合并某一次提交到指定分支</h3><pre><code>* 获取此次提交的commit_id \n* 切换到需要合并的分支 \n</code></pre>\n<pre><code class=\"hljs bash\">git cherry-pick [commit_id]</code></pre>\n\n<h3 id=\"远程分支覆盖本地分支\"><a href=\"#远程分支覆盖本地分支\" class=\"headerlink\" title=\"远程分支覆盖本地分支\"></a>远程分支覆盖本地分支</h3><pre><code class=\"hljs bash\">git fetch -—all // fetch所有分支上的内容，也可以选择只备份一部分内容  \ngit reset -—hard origin/master // 重置本地分支（这里master要修改为对应的分支名）  \ngit pull</code></pre>\n\n<h3 id=\"clone-远程仓库\"><a href=\"#clone-远程仓库\" class=\"headerlink\" title=\"clone 远程仓库\"></a>clone 远程仓库</h3><pre><code class=\"hljs bash\">git <span class=\"hljs-built_in\">clone</span> ssh://git@github.com:im/im.github.io.git</code></pre>\n\n<h3 id=\"初始化本地-git-仓库（新建仓库）\"><a href=\"#初始化本地-git-仓库（新建仓库）\" class=\"headerlink\" title=\"初始化本地 git 仓库（新建仓库）\"></a>初始化本地 git 仓库（新建仓库）</h3><pre><code class=\"hljs bash\">git init</code></pre>\n\n<h3 id=\"查看当前版本状态（是否修改）\"><a href=\"#查看当前版本状态（是否修改）\" class=\"headerlink\" title=\"查看当前版本状态（是否修改）\"></a>查看当前版本状态（是否修改）</h3><pre><code class=\"hljs bash\">git status</code></pre>\n\n<h3 id=\"显示所有未添加至-index-的变更\"><a href=\"#显示所有未添加至-index-的变更\" class=\"headerlink\" title=\"显示所有未添加至 index 的变更\"></a>显示所有未添加至 index 的变更</h3><pre><code class=\"hljs bash\">git diff</code></pre>\n\n<h3 id=\"比较与上一个版本的差异\"><a href=\"#比较与上一个版本的差异\" class=\"headerlink\" title=\"比较与上一个版本的差异\"></a>比较与上一个版本的差异</h3><pre><code class=\"hljs bash\">git diff HEAD^ / HEAD -- ./lib</code></pre>\n\n<h3 id=\"增加更改过的文件至-index\"><a href=\"#增加更改过的文件至-index\" class=\"headerlink\" title=\"增加更改过的文件至 index\"></a>增加更改过的文件至 index</h3><pre><code class=\"hljs bash\">git add . / add * ...</code></pre>\n\n<h3 id=\"提交\"><a href=\"#提交\" class=\"headerlink\" title=\"提交\"></a>提交</h3><pre><code class=\"hljs bash\">git commit -m ‘xxx’</code></pre>\n\n<h3 id=\"合并上一次提交（用于反复修改）\"><a href=\"#合并上一次提交（用于反复修改）\" class=\"headerlink\" title=\"合并上一次提交（用于反复修改）\"></a>合并上一次提交（用于反复修改）</h3><pre><code class=\"hljs bash\">git commit -amend -m ‘xxx’\n\nadd 和 commit 合为一步\n\ngit commit -am ‘xxx’</code></pre>\n\n<h3 id=\"显示日志\"><a href=\"#显示日志\" class=\"headerlink\" title=\"显示日志\"></a>显示日志</h3><pre><code class=\"hljs bash\">git <span class=\"hljs-built_in\">log</span></code></pre>\n\n<h3 id=\"显示某个提交的详细内容\"><a href=\"#显示某个提交的详细内容\" class=\"headerlink\" title=\"显示某个提交的详细内容\"></a>显示某个提交的详细内容</h3><pre><code class=\"hljs bash\">git show &lt;commit&gt;</code></pre>\n\n<h3 id=\"在每一行显示-commit-号-提交者-最早提交日期\"><a href=\"#在每一行显示-commit-号-提交者-最早提交日期\" class=\"headerlink\" title=\"在每一行显示 commit 号,提交者,最早提交日期\"></a>在每一行显示 commit 号,提交者,最早提交日期</h3><pre><code class=\"hljs bash\">git blame &lt;file&gt;</code></pre>\n\n<h3 id=\"显示本地分支\"><a href=\"#显示本地分支\" class=\"headerlink\" title=\"显示本地分支\"></a>显示本地分支</h3><pre><code class=\"hljs bash\">git branch</code></pre>\n\n<h3 id=\"切换分支\"><a href=\"#切换分支\" class=\"headerlink\" title=\"切换分支\"></a>切换分支</h3><pre><code class=\"hljs bash\">git checkout &lt;branch&gt;</code></pre>\n\n<h3 id=\"新建分支\"><a href=\"#新建分支\" class=\"headerlink\" title=\"新建分支\"></a>新建分支</h3><pre><code class=\"hljs bash\">git branch &lt;new-branch&gt;</code></pre>\n\n<h3 id=\"创建新分支跟踪远程分支\"><a href=\"#创建新分支跟踪远程分支\" class=\"headerlink\" title=\"创建新分支跟踪远程分支\"></a>创建新分支跟踪远程分支</h3><pre><code class=\"hljs bash\">git branch --track &lt;new&gt; &lt;remote&gt;</code></pre>\n\n<h3 id=\"删除本地分支\"><a href=\"#删除本地分支\" class=\"headerlink\" title=\"删除本地分支\"></a>删除本地分支</h3><pre><code class=\"hljs bash\">git branch -d &lt;branch&gt;</code></pre>\n\n<h3 id=\"给当前分支打标签\"><a href=\"#给当前分支打标签\" class=\"headerlink\" title=\"给当前分支打标签\"></a>给当前分支打标签</h3><pre><code class=\"hljs bash\">git tag &lt;tag-name&gt;</code></pre>\n\n<h3 id=\"列出远程分支详细信息\"><a href=\"#列出远程分支详细信息\" class=\"headerlink\" title=\"列出远程分支详细信息\"></a>列出远程分支详细信息</h3><pre><code class=\"hljs bash\">git remote -v</code></pre>\n\n<h3 id=\"显示某个分支信息\"><a href=\"#显示某个分支信息\" class=\"headerlink\" title=\"显示某个分支信息\"></a>显示某个分支信息</h3><pre><code class=\"hljs bash\">git remote show &lt;remote&gt;</code></pre>\n\n<h3 id=\"添加一个新的远程仓库\"><a href=\"#添加一个新的远程仓库\" class=\"headerlink\" title=\"添加一个新的远程仓库\"></a>添加一个新的远程仓库</h3><pre><code class=\"hljs bash\">git remote add &lt;remote&gt; &lt;url&gt;</code></pre>\n\n<h3 id=\"获取远程分支，但不更新本地分支，另需-merge\"><a href=\"#获取远程分支，但不更新本地分支，另需-merge\" class=\"headerlink\" title=\"获取远程分支，但不更新本地分支，另需 merge\"></a>获取远程分支，但不更新本地分支，另需 merge</h3><pre><code class=\"hljs bash\">git fetch &lt;remote&gt;</code></pre>\n\n<h3 id=\"获取远程分支，并更新本地分支\"><a href=\"#获取远程分支，并更新本地分支\" class=\"headerlink\" title=\"获取远程分支，并更新本地分支\"></a>获取远程分支，并更新本地分支</h3><pre><code class=\"hljs bash\">git pull &lt;remote&gt; &lt;branch&gt;</code></pre>\n\n<h3 id=\"推送本地更新到远程分支\"><a href=\"#推送本地更新到远程分支\" class=\"headerlink\" title=\"推送本地更新到远程分支\"></a>推送本地更新到远程分支</h3><pre><code class=\"hljs bash\">git push &lt;remote&gt; &lt;branch&gt;</code></pre>\n\n<h3 id=\"删除一个远程分支\"><a href=\"#删除一个远程分支\" class=\"headerlink\" title=\"删除一个远程分支\"></a>删除一个远程分支</h3><pre><code class=\"hljs bash\">git push &lt;remote&gt; --delete &lt;branch&gt;</code></pre>\n\n<h3 id=\"推送本地标签\"><a href=\"#推送本地标签\" class=\"headerlink\" title=\"推送本地标签\"></a>推送本地标签</h3><pre><code class=\"hljs bash\">git push --tags</code></pre>\n\n<h3 id=\"合并分支到当前分支，存在两个\"><a href=\"#合并分支到当前分支，存在两个\" class=\"headerlink\" title=\"合并分支到当前分支，存在两个\"></a>合并分支到当前分支，存在两个</h3><pre><code class=\"hljs bash\">git merge &lt;branch&gt;</code></pre>\n\n<h3 id=\"合并分支到当前分支，存在一个\"><a href=\"#合并分支到当前分支，存在一个\" class=\"headerlink\" title=\"合并分支到当前分支，存在一个\"></a>合并分支到当前分支，存在一个</h3><pre><code class=\"hljs bash\">git rebase &lt;branch&gt;</code></pre>\n\n<h3 id=\"回到执行-rebase-之前\"><a href=\"#回到执行-rebase-之前\" class=\"headerlink\" title=\"回到执行 rebase 之前\"></a>回到执行 rebase 之前</h3><pre><code class=\"hljs bash\">git rebase --abort 解决矛盾后继续执行 rebase  git rebase --<span class=\"hljs-built_in\">continue</span> 使用 mergetool 解决冲突\n\ngit mergetool</code></pre>\n\n<h3 id=\"使用冲突文件解决冲突\"><a href=\"#使用冲突文件解决冲突\" class=\"headerlink\" title=\"使用冲突文件解决冲突\"></a>使用冲突文件解决冲突</h3><pre><code class=\"hljs bash\">git add &lt;resolve-file&gt;\n\ngit rm &lt;resolved-file&gt;</code></pre>\n\n<h3 id=\"将当前版本重置为-HEAD（用于-merge-失败）\"><a href=\"#将当前版本重置为-HEAD（用于-merge-失败）\" class=\"headerlink\" title=\"将当前版本重置为 HEAD（用于 merge 失败）\"></a>将当前版本重置为 HEAD（用于 merge 失败）</h3><pre><code class=\"hljs bash\">git reset --hard HEAD</code></pre>\n\n<h3 id=\"将当前版本重置至某一个提交状态（慎用！）\"><a href=\"#将当前版本重置至某一个提交状态（慎用！）\" class=\"headerlink\" title=\"将当前版本重置至某一个提交状态（慎用！）\"></a>将当前版本重置至某一个提交状态（慎用！）</h3><pre><code class=\"hljs bash\">git reset --hard &lt;commit&gt;</code></pre>\n\n<h3 id=\"将当前版本重置至某一个提交状态，代码不变\"><a href=\"#将当前版本重置至某一个提交状态，代码不变\" class=\"headerlink\" title=\"将当前版本重置至某一个提交状态，代码不变\"></a>将当前版本重置至某一个提交状态，代码不变</h3><pre><code class=\"hljs bash\">git reset &lt;commit&gt;</code></pre>\n\n<h3 id=\"重置至某一状态，保留版本库中不同的文件\"><a href=\"#重置至某一状态，保留版本库中不同的文件\" class=\"headerlink\" title=\"重置至某一状态，保留版本库中不同的文件\"></a>重置至某一状态，保留版本库中不同的文件</h3><pre><code class=\"hljs bash\">git reset --merge &lt;commit&gt;</code></pre>\n\n<h3 id=\"重置至某一状态，重置变化的文件，代码改变\"><a href=\"#重置至某一状态，重置变化的文件，代码改变\" class=\"headerlink\" title=\"重置至某一状态，重置变化的文件，代码改变\"></a>重置至某一状态，重置变化的文件，代码改变</h3><pre><code class=\"hljs bash\">git reset --keep &lt;commit&gt;</code></pre>\n\n<h3 id=\"丢弃本地更改信息并将其存入特定文件\"><a href=\"#丢弃本地更改信息并将其存入特定文件\" class=\"headerlink\" title=\"丢弃本地更改信息并将其存入特定文件\"></a>丢弃本地更改信息并将其存入特定文件</h3><pre><code class=\"hljs bash\">git checkout HEAD &lt;file&gt;</code></pre>\n\n<h3 id=\"撤销提交\"><a href=\"#撤销提交\" class=\"headerlink\" title=\"撤销提交\"></a>撤销提交</h3><pre><code class=\"hljs bash\">git revert &lt;commit&gt;</code></pre>\n\n","prev":{"title":" HTML5 Canvas生成粒子效果","slug":"javascript/8fe0756f8c"},"next":{"title":" git 添加 ssh key","slug":"git/59a209dce6"},"categories":[{"name":"git","slug":"git","count":6,"path":"api/categories/git.json"}],"tags":[{"name":"git","slug":"git","count":6,"path":"api/tags/git.json"}]}